{% extends "left_sidebar.html" %}

{% block sidebar %}
{% include "account/sidebar.html" %}
{% endblock %}


{% block content %}
<article>
    <header class="major">
        <h2>VPC</h2>
        <span class="byline">Your Virtual Private Clouds</span>
    </header>
    
    <p>All keys must have an associated Virtual Private Cloud (VPC) before computing jobs can be launched. At present a single VPC can be associated with each key.</p>
    <div class="tablelist">
        <table>
            <tr>
                <th>Key name</th>
                <th>Access key ID</th>
                <th>Secret access key</th>
                <th>Status</th>
                <th>Edit</th>
            </tr>
        {% for key in access_keys %}
            <tr>
                <td>{{ key.name }}</td>
                <td>{{ key.access_key_id}}</td>
                <td style="font-style:italic;">**Hidden**</td>
                <td>{% if key.vpc != "NULL" %}{{key.vpc.get_status}}{% else %}No VPC configured{% endif %}</td>
                <td><a class="button button-narrow button-alt" href="{% url 'vpc_config' key_id=key.id %}">Configure</a></td>
            </tr>
        {% endfor %}
        </table>
    </div>
    
</article>
{% endblock %}
